{
  "version": 1,
  "lastSyncedAt": "2025-08-16T12:00:00Z",
  "epic": "Plano de Trabalho — Revisão, Testes, Melhorias e Retro Contínua (AWS Serverless)",
  "tasks": [
    {
      "id": "T-001",
      "title": "Configurar Webhook GitHub → Make (Cenário A)",
      "description": "Criar webhook de push em main filtrando alterações em /.planning/tasks.json e apontar para o Custom Webhook do Make.",
      "status": "todo",
      "priority": "high",
      "assigneeEmail": null,
      "due": "2025-08-18",
      "labels": ["automation", "make", "github"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-002",
      "title": "Montar Cenário A no Make: Git → Google Tasks + commit de volta",
      "description": "Ler tasks.json e lists.json, criar/atualizar tasks no Google Tasks, escrever googleTaskId e lastSyncedAt e commitar no repositório.",
      "status": "todo",
      "priority": "high",
      "assigneeEmail": null,
      "due": "2025-08-19",
      "labels": ["automation", "make", "google-tasks"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-003",
      "title": "Montar Cenário B no Make: Google Tasks → Git (PR de volta)",
      "description": "Monitorar listas do Google; ao completar tarefa, abrir PR atualizando status=done no /.planning/tasks.json.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-19",
      "labels": ["automation", "make", "google-tasks", "github"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-004",
      "title": "Ativar X-Ray nas Lambdas e Step Functions",
      "description": "Habilitar tracing em todas as funções críticas e no state machine; validar traces ponta a ponta.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-19",
      "labels": ["observability", "xray", "aws"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-005",
      "title": "Padronizar logs JSON com messageId e correlationId",
      "description": "Adicionar middleware/log formatter; garantir campos em todas as Lambdas e SFN; revisar retenção e níveis por ambiente.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-19",
      "labels": ["observability", "logging"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-006",
      "title": "Revisão de segredos (SM/PS) e IAM mínimo por função",
      "description": "Mover chaves para Secrets Manager/Parameter Store, aplicar IAM least-privilege, revisar encryption em repouso.",
      "status": "todo",
      "priority": "high",
      "assigneeEmail": null,
      "due": "2025-08-19",
      "labels": ["security", "iam", "secrets"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },

    {
      "id": "T-101",
      "title": "Auditar ASL (WebSocketResponder): defaults, Catch/Retry, DLQ",
      "description": "Rever ResultPath/Parameters com valores padrão, rotas de erro e DLQ para campos ausentes (ex.: cursor).",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-20",
      "labels": ["step-functions", "resilience"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-102",
      "title": "Revisar ConnectFunction/disconnectWS: TTL e cleanup de conexões",
      "description": "Adicionar TTL na tabela de conexões, tratar disconnects zumbis e (opcional) mapear userRef.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-21",
      "labels": ["websocket", "lambda", "dynamodb"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-103",
      "title": "Revisar PreparePrompt: modos (entrevista/resposta) e correções",
      "description": "Separar claramente os modos de operação; corrigir ortografia; testes unitários de parâmetros obrigatórios.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-21",
      "labels": ["backend", "prompting"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-104",
      "title": "Revisar SaveChatHistory: semântica e idempotência",
      "description": "Garantir pergunta/resposta corretas; incluir messageId e ConditionExpression para evitar duplicatas.",
      "status": "todo",
      "priority": "high",
      "assigneeEmail": null,
      "due": "2025-08-22",
      "labels": ["backend", "dynamodb", "idempotency"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-105",
      "title": "Corrigir front: handler duplicado e ping/ack",
      "description": "Remover segunda atribuição de sendBtn.onclick; implementar ping com ack e indicador de reconexão.",
      "status": "todo",
      "priority": "high",
      "assigneeEmail": null,
      "due": "2025-08-22",
      "labels": ["frontend", "websocket"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-106",
      "title": "Tests unitários: SaveChatHistory (PII/ConditionExpression)",
      "description": "Mock de Dynamo; validar criptografia/máscara de PII e condição anti-duplicata.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-25",
      "labels": ["testing", "backend"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-107",
      "title": "Teste integração WS: ordem de chunks e reconexão",
      "description": "Simular perda e reordenação; garantir buffer por sequence/chunkIndex e comportamento em reconexão.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-25",
      "labels": ["testing", "websocket", "e2e"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-108",
      "title": "Teste Step Functions: ausência de cursor e defaults",
      "description": "Cobrir Choice/Catch; validar ResultPath/Parameters com valores padrão.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-26",
      "labels": ["testing", "step-functions"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-109",
      "title": "Alarmes mínimos: 5xx, throttling, P95 e budget diário",
      "description": "Criar CloudWatch Alarms essenciais e Budget com alerta; notificar canal do time.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-26",
      "labels": ["observability", "finops", "alarms"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },

    {
      "id": "T-201",
      "title": "Implementar idempotência no SaveChatHistory",
      "description": "Adicionar messageId, ConditionExpression e corrigir semântica pergunta/resposta.",
      "status": "todo",
      "priority": "critical",
      "assigneeEmail": null,
      "due": "2025-08-28",
      "labels": ["backend", "dynamodb", "idempotency"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-202",
      "title": "Definir schema Dynamo: PK/SK, GSI por e-mail (hash) e TTL",
      "description": "Formalizar chaves (conversationId/createdAt), GSI por usuário com hash+salt e TTL para housekeeping.",
      "status": "todo",
      "priority": "high",
      "assigneeEmail": null,
      "due": "2025-08-29",
      "labels": ["dynamodb", "schema", "security"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-203",
      "title": "Streaming contínuo Lambda → WebSocket (reduzir transições SFN)",
      "description": "Manter envio direto ao API GW WS; SFN focada em orquestrações macro; persistir somente em isFinal/checkpoints.",
      "status": "todo",
      "priority": "high",
      "assigneeEmail": null,
      "due": "2025-09-01",
      "labels": ["websocket", "lambda", "performance"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-204",
      "title": "Defaults e Choice na ASL para campos ausentes",
      "description": "Incluir Parameters com valores padrão e rotas Choice para payloads incompletos (ex.: cursor).",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-08-29",
      "labels": ["step-functions", "resilience"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-205",
      "title": "Buffer de ordenação no front (sequence/chunkIndex/isFinal)",
      "description": "Implementar buffer por etapa e ordenação; garantir merge determinístico no UI para evitar interleaving.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-09-02",
      "labels": ["frontend", "websocket", "ux"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-206",
      "title": "PII: hash+salt de e-mail e KMS por campo",
      "description": "Aplicar hashing para chaves, criptografia seletiva em atributos sensíveis e revisar máscaras de logs.",
      "status": "todo",
      "priority": "high",
      "assigneeEmail": null,
      "due": "2025-09-02",
      "labels": ["security", "kms", "pii"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-207",
      "title": "Teste de carga WS (k6) e replays/retries",
      "description": "Validar P95/P99, perda de pacotes, replays e idempotência em 1000 mensagens.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-09-02",
      "labels": ["performance", "testing", "websocket"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },

    {
      "id": "T-301",
      "title": "Métrica de custo por conversa (EMF) + dashboard",
      "description": "Emitir métricas via EMF correlacionadas por conversationId; criar dashboard de custo por conversa/minuto.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-09-04",
      "labels": ["finops", "metrics", "observability"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-302",
      "title": "Budget mensal e alerta de anomalia",
      "description": "Configurar AWS Budget e detecção de anomalia; notificar canal do time.",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-09-04",
      "labels": ["finops", "budget", "alerts"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-303",
      "title": "Métricas de negócio: TTFT, conclusão e erro de streaming",
      "description": "Instrumentar e expor métricas; criar dashboard executivo combinado (negócio + técnica).",
      "status": "todo",
      "priority": "medium",
      "assigneeEmail": null,
      "due": "2025-09-05",
      "labels": ["observability", "metrics", "business"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-304",
      "title": "ADRs curtas e atualização de DoR/DoD",
      "description": "Registrar decisões tomadas; revisar checklists de pronto/concluído e papéis do time.",
      "status": "todo",
      "priority": "low",
      "assigneeEmail": null,
      "due": "2025-09-08",
      "labels": ["process", "governance"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-305",
      "title": "Playbooks: incidentes WS/persistência e rollback",
      "description": "Especificar fluxos de resposta; definir critérios e passos de rollback (canário/blue-green).",
      "status": "todo",
      "priority": "low",
      "assigneeEmail": null,
      "due": "2025-09-08",
      "labels": ["process", "reliability"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-306",
      "title": "Ajustar Planner IA (priorização) e prompts",
      "description": "Refinar prompt do Planner com lições da retro; mapear impacto/esforço automaticamente nos tickets.",
      "status": "todo",
      "priority": "low",
      "assigneeEmail": null,
      "due": "2025-09-09",
      "labels": ["automation", "ai", "process"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    },
    {
      "id": "T-307",
      "title": "Roteiro de rollout canário/rollback documentado",
      "description": "Definir estratégia de deploy (canário/linear), critérios de sucesso e plano de reversão.",
      "status": "todo",
      "priority": "low",
      "assigneeEmail": null,
      "due": "2025-09-09",
      "labels": ["release", "reliability", "process"],
      "googleTaskId": null,
      "githubIssue": null,
      "createdAt": "2025-08-16T12:00:00Z",
      "updatedAt": "2025-08-16T12:00:00Z"
    }
  ]
}
